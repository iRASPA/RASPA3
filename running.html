<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>RASPA3: Running</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">RASPA3<span id="projectnumber">&#160;3.0.9</span>
   </div>
   <div id="projectbrief">A molecular simulation code for computing adsorption and diffusion in nanoporous materials</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('running.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Running</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1>Input file</h1>
<p>An input-file describing the type of simulation and the parameters. In the same directory as the 'run'-file, there needs to be a file called <code>simulation.json</code>. An example file is: </p><div class="fragment"><div class="line">{</div>
<div class="line">    &quot;SimulationType&quot; : &quot;MonteCarlo&quot;,</div>
<div class="line">    &quot;NumberOfCycles&quot; : 100000,</div>
<div class="line">    &quot;NumberOfInitializationCycles&quot; : 1000,</div>
<div class="line">    &quot;NumberOfEquilibrationCycles&quot; : 10000,</div>
<div class="line">    &quot;PrintEvery&quot; : 1000,</div>
<div class="line"> </div>
<div class="line">    &quot;Systems&quot; :</div>
<div class="line">    [</div>
<div class="line">    {</div>
<div class="line">        &quot;Type&quot; : &quot;Box&quot;,</div>
<div class="line">        &quot;BoxLengths&quot; : [30.0, 30.0, 30.0],</div>
<div class="line">        &quot;ExternalTemperature&quot; : 300.0,</div>
<div class="line">        &quot;ChargeMethod&quot; : &quot;None&quot;,</div>
<div class="line">        &quot;OutputPDBMovie&quot; : true,</div>
<div class="line">        &quot;SampleMovieEvery&quot; : 10</div>
<div class="line">    }</div>
<div class="line">    ],</div>
<div class="line"> </div>
<div class="line">    &quot;Components&quot; :</div>
<div class="line">    [</div>
<div class="line">    {</div>
<div class="line">        &quot;Name&quot; : &quot;methane&quot;,</div>
<div class="line">        &quot;MoleculeDefinition&quot; : &quot;ExampleDefinitions&quot;,</div>
<div class="line">        &quot;TranslationProbability&quot; : 1.0,</div>
<div class="line">        &quot;CreateNumberOfMolecules&quot; : 100</div>
<div class="line">    }</div>
<div class="line">    ]</div>
<div class="line">}</div>
</div><!-- fragment --><p> This tells <code>RASPA</code> to run a Monte-Carlo simulation of 100 methane molecules in a $30\times30\times30$ Å cubic box (with 90$^\circ$ angles) at 300 Kelvin. It will start with 1000 cycles to initialize the system, 10000 cycles to equilibrate the system, and will use 100000 cycle to obtain thermodynamic properties of interest. Every 1000 cycles a status-report is printed to the output. The Monte-Carlo program will use only the 'translation move' where a particle is given a random translation and the move is accepted or rejected based on the energy difference.</p>
<p>Further settings for writing input files can be found in the <img src="docs/manual/commands.md" alt="commands" class="inline"/> section.</p>
<hr  />
<h1>RASPA_DIR</h1>
<p>The RASPA_DIR should be linked, as many of the default .cif and force field files are given there. Make sure the the environment variable <code>RASPA_DIR</code> is set up correctly or run using the run file, which automatically includes the right path after building.</p>
<p><code>run</code> file: </p><div class="fragment"><div class="line">#! /bin/sh -f</div>
<div class="line">export RASPA_DIR=/usr/share/raspa3</div>
<div class="line">/usr/bin/raspa3</div>
</div><!-- fragment --><p> This type of file is know as a '<code>shell script</code>'. <code>RASPA</code> needs the variable '<code>RASPA_DIR</code>' to be set in order to look up the molecules, frameworks, etc. The scripts sets the variable and runs <code>RASPA</code>. <code>RASPA</code> can then be run from any directory you would like.</p>
<hr  />
<h1>Run job on cluster</h1>
<p>In order to run it on a cluster using a queuing system one needs an additional file '<code>bsub.job</code>' (arbitrary name)</p>
<ul>
<li>'<code>gridengine</code>' <pre class="fragment">     #!/bin/bash
     # Serial sample script for Grid Engine
     # Replace items enclosed by {}
     #$ -S /bin/bash
     #$ -N Test
     #$ -V
     #$ -cwd
     echo $PBS_JOBID &gt; jobid
     export RASPA_DIR=/usr/share/raspa3
     /usr/bin/raspa3
</pre> The job can be submitted using '<code>qsub bsub.job</code>'.</li>
<li>'<code>torque</code>' <pre class="fragment">     #!/bin/bash
     #PBS -N Test
     #PBS -o pbs.out
     #PBS -e pbs.err
     #PBS -r n
     #PBS -V
     #PBS -mba
     cd $PBS_O_WORKDIR
     echo $PBS_JOBID &gt; jobid
     export RASPA_DIR=/usr/share/raspa3
     /usr/bin/raspa3
</pre> The job can be submitted using '<code>qsub bsub.job</code>'.</li>
<li>'<code>slurm</code>' <pre class="fragment">  #!/bin/bash 
  #SBATCH -N 1
  #SBATCH --job-name=Test
  #SBATCH --export=ALL
  echo $SLURM_JOBID &gt; jobid
  valhost=$SLURM_JOB_NODELIST
  echo $valhost &gt; hostname
  module load slurm
  export RASPA_DIR=/usr/share/raspa3
  /usr/bin/raspa3
</pre> The job can be submitted using '<code>sbatch bsub.job</code>'. </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="md_docs_2manual.html">User Manual</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
