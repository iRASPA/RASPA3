
if(BUILD_MAC_PACKAGE)

set(CPACK_PACKAGE_VERSION ${CMAKE_PROJECT_VERSION})
set(CPACK_GENERATOR "productbuild")
set(CPACK_PACKAGE_NAME "raspa")
set(CPACK_PRODUCTBUILD_IDENTIFIER nl.darkwing.raspa)
set(CPACK_PRODUCTBUILD_RESOURCES_DIR ${CMAKE_CURRENT_SOURCE_DIR}/Resources)
set(CPACK_PRODUCTBUILD_BACKGROUND background.jpg)
set(CPACK_PRODUCTBUILD_BACKGROUND_SCALING tofit)
set(CPACK_PRODUCTBUILD_BACKGROUND_ALIGNMENT bottomright)
set(CPACK_PACKAGING_INSTALL_PREFIX /usr/local)
set(CPACK_PACKAGE_DESCRIPTION "Molecular simulation code for adsorption and diffusion in nanoporours materials.")
set(CPACK_PACKAGE_CONTACT "David Dubbeldam (d.dubbeldam@uva.nl)")
set(CPACK_PACKAGE_FILE_NAME "raspa-${CMAKE_PROJECT_VERSION}-${CMAKE_OSX_ARCHITECTURES}")
set(CPACK_PACKAGE_FILE_NAME ${CPACK_PACKAGE_NAME}-${CPACK_PACKAGE_VERSION}-mac-${CMAKE_OSX_ARCHITECTURES})
set(CPACK_PKGBUILD_IDENTITY_NAME "Developer ID Installer: David Dubbeldam (24U2ZRZ6SC)")
set(CPACK_RESOURCE_FILE_WELCOME ${CMAKE_CURRENT_SOURCE_DIR}/welcome.txt)
set(CPACK_RESOURCE_FILE_README ${CMAKE_CURRENT_SOURCE_DIR}/readme.txt)
set(CPACK_RESOURCE_FILE_LICENSE ${CMAKE_CURRENT_SOURCE_DIR}/license.txt)
set(CPACK_COMPONENTS_ALL_IN_ONE_PACKAGE ON)
set(CPACK_STRIP_FILES OFF)
set(CPACK_COMPONENTS_ALL app examples manual python unit_tests_raspakit)

include(CPack)

endif()


if(BUILD_RPM_PACKAGE)

set(CPACK_PACKAGE_VERSION ${VERSION})
set(CPACK_GENERATOR "RPM")
set(CPACK_RPM_PACKAGE_NAME "raspa")
set(CPACK_RPM_PACKAGE_LICENSE "MIT")
set(CPACK_RPM_PACKAGE_DESCRIPTION "Molecular simulation code for adsorption and diffusion in nanoporours materials.")
set(CPACK_RPM_FILE_NAME "RPM-DEFAULT")
set(CPACK_RPM_PACKAGE_RELEASE_DIST ON)
set(CPACK_RPM_PACKAGE_RELEASE 1)
set(CPACK_RPM_PACKAGE_CONTACT "David Dubbeldam (d.dubbeldam@uva.nl)")
set(CPACK_RPM_PACKAGE_VENDOR "David Dubbeldam, Sofia Calero, Thijs J.H. Vlugt, R.Q. Snurr")
set(CPACK_STRIP_FILES ON)

include(CPack)

endif()


if(BUILD_DEB_PACKAGE)

set(CPACK_GENERATOR "DEB")
set(CPACK_DEBIAN_PACKAGE_NAME "raspa")
set(CPACK_DEBIAN_PACKAGE_MAINTAINER "d.dubbeldam@uva.nl")
set(CPACK_PACKAGE_NAME ${CMAKE_PROJECT_NAME})
set(CPACK_set_DESTDIR TRUE)
set(CPACK_RESOURCE_FILE_README "${CMAKE_SOURCE_DIR}/README.md")
set(CPACK_RESOURCE_FILE_LICENSE "${CMAKE_SOURCE_DIR}/LICENSE.md")
set(CPACK_DEBIAN_PACKAGE_VERSION ${PACKAGE_VERSION})
set(CPACK_DEBIAN_PACKAGE_ARCHITECTURE "amd64")
set(CPACK_DEBIAN_FILE_NAME DEB-DEFAULT)
set(CPACK_PACKAGE_VENDOR "David Dubbeldam, Sofia Calero, Thijs J.H. Vlugt, R.Q. Snurr")
set(CPACK_STRIP_FILES ON)

include(CPack)

endif()


if(BUILD_WINDOWS_PACKAGE)
list(APPEND CMAKE_MODULE_PATH ${CMAKE_CURRENT_SOURCE_DIR})
set(CPACK_GENERATOR NSIS)
set(CPACK_PACKAGE_NAME "raspa")
set(CPACK_PACKAGE_VENDOR "David Dubbeldam, Sofia Calero, Thijs J.H. Vlugt, R.Q. Snur")
#set(CPACK_PACKAGE_VENDOR "CN=7A07FC1F-D8C3-492E-A048-10ACFB7E62DA")
set(CPACK_PACKAGE_DESCRIPTION_SUMMARY "Raspa - classical simulation Package")
set(CPACK_PACKAGE_VERSION ${VERSION})
set(CPACK_PACKAGE_INSTALL_DIRECTORY "Raspa")
set(CPACK_RESOURCE_FILE_WELCOME ${CMAKE_CURRENT_SOURCE_DIR}/welcome.txt)
set(CPACK_RESOURCE_FILE_README ${CMAKE_CURRENT_SOURCE_DIR}/readme.txt)
set(CPACK_RESOURCE_FILE_LICENSE ${CMAKE_CURRENT_SOURCE_DIR}/license.txt)
SET(CPACK_NSIS_MODIFY_PATH ON)
set(CPACK_COMPONENTS_ALL app examples manual unit_tests_raspakit)
set(CPACK_NSIS_MUI_ICON ${CMAKE_CURRENT_SOURCE_DIR}/raspa.ico)
set(CPACK_NSIS_MUI_UNIICON ${CMAKE_CURRENT_SOURCE_DIR}/raspa.ico)
set(CPACK_NSIS_HELP_LINK https://www.iraspa.org)
set(CPACK_NSIS_URL_INFO_ABOUT https://www.iraspa.org)
set(CPACK_NSIS_PACKAGE_NAME "raspa")
file(TO_NATIVE_PATH "${CMAKE_CURRENT_SOURCE_DIR}/background.bmp" NSIS_RASPA_BACKGROUND)
# use double \\ instead of \
STRING(REGEX REPLACE "\\\\" "\\\\\\\\" NSIS_RASPA_BACKGROUND "${NSIS_RASPA_BACKGROUND}")
set(CPACK_NSIS_MUI_WELCOMEFINISHPAGE_BITMAP ${NSIS_RASPA_BACKGROUND}) 
set(CPACK_NSIS_MUI_UNWELCOMEFINISHPAGE_BITMAP  ${NSIS_RASPA_BACKGROUND})
set(CPACK_NSIS_CONTACT d.dubbeldam@uva.nl)

include(CPack)

include (InstallRequiredSystemLibraries)

endif()

