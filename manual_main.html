<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>RASPA3: Manual</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">RASPA3
   </div>
   <div id="projectbrief">A molecular simulation code for computing adsorption and diffusion in nanoporous materials</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('manual_main.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Manual</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1>Design philosophy</h1>
<p><code>RASPA3</code> is a molecular simulation code for computing adsorption and diffusion in nanoporous materials, and thermodynamic and transport properties of fluids. It implements force field based classical Monte Carlo/Molecular Dynamics in various ensembles. <code>RASPA3</code> can be used for the simulation of molecules in gases, fluids, zeolites, aluminosilicates, metal-organic frameworks, and carbon nanotubes. One of the main applications of <code>RASPA3</code> is to compute adsorption isotherms and to understand the atomic-level mechanism of adsorption and separations.</p>
<p><code>RASPA3</code> is redesigned and rewritten from the ground up in <code>C++23</code>, based on the following ideas:</p>
<ul>
<li>Composition and value semantics\ Major improvements in efficiency result from the implementation of <code>C++</code> code based on composition and value semantics (in contrast to inheritance and reference semantics). Composition is a structural approach in which complex objects are built from simple building blocks. Value semantics avoid sharing mutable state and upholds the independence of values to support local reasoning. References are only used implicitly, at function boundaries, and are never stored. This style of coding has many advantages. Avoiding complex inheritance hierarchies and reducing the need for virtual functions lead to major code simplifications. It encourages code clarity and local reasoning. With composition, components are directly included in an object, removing the necessity for pointers, manual memory allocations, and indirections. This leads to straightforward memory patterns and access safety. Lifetimes of objects are coupled with composition, eliminating the need for explicit memory management. These lead to better compiler optimization and therefore performance of the code.</li>
<li>Correctness and accuracy\ For all the techniques and algorithms available in <code>RASPA3</code> we have implemented the 'best' ones available in literature. For example, <code>RASPA3</code> uses Configurational-Bias Monte-Carlo, it uses the Ewald summation for electrostatics, molecular dynamics is based on 'symplectic' integrators, all Monte-Carlo moves obey detailed balance etc. Unit tests test the smallest functional units of code and prevent developers breaking existing code when refactoring or adding new code. The unit tests in <code>RASPA3</code> are arranged hierarchically. Atoms are placed at several distances and the Lennard-Jones potentials are tested and compared with the analytically computed energy. Then molecules are placed within a zeolite framework at predetermined positions and compared to the energies computed with <code>RASPA2</code>. The various energy routines used in biased-sampling are tested by comparing to the general routines. The various routines for the gradients are tested by comparing the computed gradients to the values computed by finite difference schemes based on the energy. Likewise, the strain-derivative tensor (related to the pressure) is tested by comparing to the values computed by finite difference schemes based on the energy of a strained cell.</li>
<li>Input made easy\ The input of <code>RASPA3</code> has been changed to <code>JSON</code> format. <code>JSON</code> stands for <code>JavaScript Object Notation</code>. It is a lightweight data-interchange format in plain text written in JavaScript object notation. It is language independent. The requirements for the input files is kept as minimal as possible. Only for more advanced options extra commands in the input file are needed. Also the format of the input is straightforward. Default settings are usually the best ones. Fugacity coefficients and excess adsorption are automatically computed.</li>
<li>Output made easy\ Similarly, the <code>JSON</code> format is now also used for the output. Where previously all initial data (e.g. hardware info, unit conversion factors) and statistics (e.g. <code>CPU</code> timings, <code>MC</code> move statistics) were written to a text file, these are now written as a nested dictionary to a <code>JSON</code> file.</li>
<li>Integrated simulation environment\ The <code>RASPA3</code> <code>C++</code> simulation engine is made available to <code>Python</code> via a <code>Pybind11</code> interface. For use in <code>Python</code>, <code>RASPA3</code> is built as a shared library, allowing its functions to be used by <code>Python</code> users and enabling seamless interactions with the simulation routines. Through the API, the library allows for invocation of <code>RASPA3</code>'s simulation routines from <code>Python</code> scripts, calling the same simulation routines as via the <code>JSON</code> input. This execution directly from <code>Python</code> enables the ability to prototype simulation settings and incorporate <code>RASPA3</code> into existing workflows. Extension and modification of the code is relatively straightforward.</li>
</ul>
<h1>Output from <code>RASPA</code></h1>
<p><code>RASPA</code> generates output from the simulation. Some data is just information on the status, while other data are written because you specifically asked the program to compute it for you. The output is written to be used with other programs like:</p>
<ul>
<li><code>gnuplot</code></li>
<li><code>iRASPA</code></li>
<li><code>VMD</code></li>
</ul>
<h1>Citing <code>RASPA</code></h1>
<p>If you are using <code>RASPA</code> and would like to cite it in your journal articles or book-chapters, then for <code>RASPA</code>:</p>
<blockquote class="doxtable">
<p>&zwj;Y.A. Ran, S. Sharma, S.R.G. Balestra, Z. Li, S. Calero, T.J.H Vlugt, R.Q. Snurr, and D. Dubbeldam RASPA3: A Monte Carlo Code for Computing Adsorption and Diffusion in Nanoporous Materials and Thermodynamics Properties of Fluids , 2024. </p>
</blockquote>
<blockquote class="doxtable">
<p>&zwj;D. Dubbeldam, S. Calero, D.E. Ellis, and R.Q. Snurr, RASPA: Molecular Simulation Software for Adsorption and Diffusion in Flexible Nanoporous Materials, , <a href="http://dx.doi.org/10.1080/08927022.2015.1010082">http://dx.doi.org/10.1080/08927022.2015.1010082</a>, 2015. </p>
</blockquote>
<p>For the inner workings of Monte Carlo codes:</p>
<blockquote class="doxtable">
<p>&zwj;D. Dubbeldam, A. Torres-Knoop, and K.S. Walton, On the Inner Workings of Monte Carlo Codes, <a href="http://dx.doi.org/10.1080/08927022.2013.819102">http://dx.doi.org/10.1080/08927022.2013.819102</a> , 39(14-15), 1253-1292, 2013. </p>
</blockquote>
<p>For the description of Molecular Dynamics and diffusion:</p>
<blockquote class="doxtable">
<p>&zwj;D. Dubbeldam and R.Q. Snurr, Recent Developments in the Molecular Modeling of Diffusion in Nanoporous Materials, <a href="http://dx.doi.org/10.1080/08927020601156418">http://dx.doi.org/10.1080/08927020601156418</a>, , 33(4-5), 305-325, 2007. </p>
</blockquote>
<p>For the description of the implementation of force fields:</p>
<blockquote class="doxtable">
<p>&zwj;D. Dubbeldam, K.S. Walton, T.J.H. Vlugt, and S. Calero, Design, Parameterization, and Implementation of Atomic Force Fields for Adsorption in Nanoporous Materials, <a href="https://doi.org/10.1002/adts.201900135">https://doi.org/10.1002/adts.201900135</a>, , 2(11), 1900135, 2019. </p>
</blockquote>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="md_docs_2manual.html">User Manual</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
